<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bakal — Êtes-vous éligible ?</title>
<meta name="description" content="Vérifiez en 2 minutes si Bakal peut générer des RDV qualifiés pour votre entreprise.">
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Instrument+Serif:ital@0;1&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #08090d;
  --bg-subtle: #0e1017;
  --bg-card: #13141f;
  --bg-elevated: #1a1b2a;
  --border: #1f2033;
  --border-light: #2a2b42;
  --border-focus: #6c5ce7;
  --text: #e8e8f0;
  --text-secondary: #8889a0;
  --text-muted: #55566a;
  --accent: #6c5ce7;
  --accent-light: #a29bfe;
  --accent-glow: rgba(108, 92, 231, 0.12);
  --accent-glow-strong: rgba(108, 92, 231, 0.25);
  --green: #00d68f;
  --green-bg: rgba(0, 214, 143, 0.08);
  --red: #ff6b6b;
  --gradient: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
  --radius: 14px;
  --radius-sm: 8px;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }

body {
  font-family: 'Outfit', sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  line-height: 1.6;
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 9999;
}

/* Ambient glow */
.glow-top {
  position: fixed;
  top: -200px;
  left: 50%;
  transform: translateX(-50%);
  width: 600px;
  height: 400px;
  background: radial-gradient(ellipse, rgba(108, 92, 231, 0.08) 0%, transparent 70%);
  pointer-events: none;
  z-index: 0;
}

/* ═══ LAYOUT ═══ */
.container {
  max-width: 560px;
  margin: 0 auto;
  padding: 48px 24px 80px;
  position: relative;
  z-index: 1;
}

/* ═══ HEADER ═══ */
.header {
  text-align: center;
  margin-bottom: 48px;
  animation: fadeUp 0.6s ease-out;
}

.logo {
  font-weight: 700;
  font-size: 24px;
  letter-spacing: -0.5px;
  margin-bottom: 32px;
}
.logo a {
  color: var(--text);
  text-decoration: none;
}
.logo span { color: var(--accent-light); }

.header h1 {
  font-family: 'Instrument Serif', serif;
  font-size: 36px;
  font-weight: 400;
  line-height: 1.2;
  margin-bottom: 12px;
  letter-spacing: -0.5px;
}
.header h1 em {
  font-style: italic;
  color: var(--accent-light);
}

.header p {
  color: var(--text-secondary);
  font-size: 16px;
  max-width: 420px;
  margin: 0 auto;
}

.badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 14px;
  background: var(--accent-glow);
  border: 1px solid rgba(108, 92, 231, 0.2);
  border-radius: 50px;
  font-size: 13px;
  font-weight: 500;
  color: var(--accent-light);
  margin-bottom: 20px;
}
.badge svg { flex-shrink: 0; }

/* ═══ PROGRESS ═══ */
.progress-bar {
  display: flex;
  gap: 6px;
  margin-bottom: 40px;
  animation: fadeUp 0.6s ease-out 0.1s both;
}

.progress-step {
  flex: 1;
  height: 3px;
  background: var(--border);
  border-radius: 3px;
  transition: background 0.4s ease;
}
.progress-step.active {
  background: var(--gradient);
}

/* ═══ FORM CARD ═══ */
.form-card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 36px;
  animation: fadeUp 0.6s ease-out 0.2s both;
}

/* ═══ STEPS ═══ */
.step {
  display: none;
  animation: stepIn 0.35s ease-out;
}
.step.active { display: block; }

.step-number {
  font-size: 12px;
  font-weight: 600;
  color: var(--accent-light);
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 8px;
}

.step h2 {
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 6px;
  letter-spacing: -0.3px;
}

.step .hint {
  font-size: 14px;
  color: var(--text-muted);
  margin-bottom: 24px;
}

/* ═══ INPUTS ═══ */
.field { margin-bottom: 20px; }

.field label {
  display: block;
  font-size: 14px;
  font-weight: 500;
  color: var(--text-secondary);
  margin-bottom: 8px;
}

.field input,
.field textarea,
.field select {
  width: 100%;
  padding: 14px 16px;
  background: var(--bg-elevated);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text);
  font-family: 'Outfit', sans-serif;
  font-size: 15px;
  transition: border-color 0.2s, box-shadow 0.2s;
  outline: none;
}

.field input::placeholder,
.field textarea::placeholder {
  color: var(--text-muted);
}

.field input:focus,
.field textarea:focus,
.field select:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px var(--accent-glow);
}

.field textarea {
  resize: vertical;
  min-height: 100px;
}

.field select {
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%238889a0' viewBox='0 0 16 16'%3E%3Cpath d='M4.5 6l3.5 4 3.5-4H4.5z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 14px center;
  padding-right: 40px;
}

.field select option {
  background: var(--bg-card);
  color: var(--text);
}

/* Radio-style options */
.checkbox-group {
  display: flex;
  flex-direction: column;
  gap: 10px;
  max-height: 340px;
  overflow-y: auto;
  padding-right: 4px;
}

.checkbox-group::-webkit-scrollbar {
  width: 4px;
}
.checkbox-group::-webkit-scrollbar-track {
  background: transparent;
}
.checkbox-group::-webkit-scrollbar-thumb {
  background: var(--border-light);
  border-radius: 4px;
}

.radio-group {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.radio-option,
.checkbox-option {
  position: relative;
}

.radio-option input,
.checkbox-option input {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}

.radio-option label,
.checkbox-option label {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: var(--bg-elevated);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  cursor: pointer;
  font-size: 15px;
  color: var(--text);
  font-weight: 400;
  transition: all 0.2s;
  margin-bottom: 0;
}

.radio-option label:hover,
.checkbox-option label:hover {
  border-color: var(--border-light);
  background: rgba(26, 27, 42, 0.8);
}

.radio-option input:checked + label,
.checkbox-option input:checked + label {
  border-color: var(--accent);
  background: var(--accent-glow);
  box-shadow: 0 0 0 3px var(--accent-glow);
}

.radio-dot {
  width: 18px;
  height: 18px;
  border: 2px solid var(--border-light);
  border-radius: 50%;
  flex-shrink: 0;
  transition: all 0.2s;
  position: relative;
}

.radio-option input:checked + label .radio-dot {
  border-color: var(--accent);
  background: var(--accent);
  box-shadow: inset 0 0 0 3px var(--bg-card);
}

.check-box {
  width: 18px;
  height: 18px;
  border: 2px solid var(--border-light);
  border-radius: 4px;
  flex-shrink: 0;
  transition: all 0.2s;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.checkbox-option input:checked + label .check-box {
  border-color: var(--accent);
  background: var(--accent);
}

.checkbox-option input:checked + label .check-box::after {
  content: '';
  width: 5px;
  height: 9px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
  margin-top: -2px;
}

/* ═══ BUTTONS ═══ */
.buttons {
  display: flex;
  gap: 12px;
  margin-top: 28px;
}

.btn-back {
  padding: 14px 24px;
  background: transparent;
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text-secondary);
  font-family: 'Outfit', sans-serif;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}
.btn-back:hover {
  border-color: var(--border-light);
  color: var(--text);
}

.btn-next {
  flex: 1;
  padding: 14px 24px;
  background: var(--gradient);
  border: none;
  border-radius: var(--radius-sm);
  color: white;
  font-family: 'Outfit', sans-serif;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}
.btn-next:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 24px var(--accent-glow-strong);
}
.btn-next:active { transform: translateY(0); }

.btn-next:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.btn-next svg {
  transition: transform 0.2s;
}
.btn-next:hover svg {
  transform: translateX(2px);
}

/* ═══ SUCCESS STATE ═══ */
.success-screen {
  display: none;
  text-align: center;
  padding: 48px 24px;
  animation: fadeUp 0.5s ease-out;
}
.success-screen.active { display: block; }

.success-icon {
  width: 64px;
  height: 64px;
  background: var(--green-bg);
  border: 2px solid rgba(0, 214, 143, 0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 24px;
  animation: scaleIn 0.4s ease-out 0.2s both;
}

.success-screen h2 {
  font-family: 'Instrument Serif', serif;
  font-size: 28px;
  font-weight: 400;
  margin-bottom: 12px;
}

.success-screen p {
  color: var(--text-secondary);
  font-size: 15px;
  max-width: 380px;
  margin: 0 auto 8px;
}

.success-detail {
  color: var(--text-muted);
  font-size: 13px;
  margin-top: 24px;
  padding-top: 24px;
  border-top: 1px solid var(--border);
}

/* ═══ FOOTER ═══ */
.footer {
  text-align: center;
  margin-top: 32px;
  font-size: 13px;
  color: var(--text-muted);
  animation: fadeUp 0.6s ease-out 0.3s both;
}
.footer a {
  color: var(--accent-light);
  text-decoration: none;
}
.footer a:hover { text-decoration: underline; }

/* ═══ VALIDATION ═══ */
.field.error input,
.field.error textarea,
.field.error select {
  border-color: var(--red);
  box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.1);
}

.field .error-msg {
  font-size: 13px;
  color: var(--red);
  margin-top: 6px;
  display: none;
}
.field.error .error-msg { display: block; }

/* ═══ ANIMATIONS ═══ */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(16px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes stepIn {
  from { opacity: 0; transform: translateX(12px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.7); }
  to { opacity: 1; transform: scale(1); }
}

/* ═══ RESPONSIVE ═══ */
@media (max-width: 600px) {
  .container { padding: 32px 16px 60px; }
  .form-card { padding: 24px 20px; }
  .header h1 { font-size: 28px; }
  .buttons { flex-direction: column-reverse; }
  .btn-back { text-align: center; }
}
</style>
</head>
<body>

<div class="glow-top"></div>

<div class="container">
  <!-- Header -->
  <div class="header">
    <div class="logo"><a href="https://bakal.ai">Bakal<span>.</span></a></div>
    <div class="badge">
      <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
      2 minutes
    </div>
    <h1>Êtes-vous <em>éligible</em> ?</h1>
    <p>Quelques questions pour vérifier si Bakal peut générer des RDV qualifiés pour vous.</p>
  </div>

  <!-- Progress -->
  <div class="progress-bar">
    <div class="progress-step active" data-step="1"></div>
    <div class="progress-step" data-step="2"></div>
    <div class="progress-step" data-step="3"></div>
    <div class="progress-step" data-step="4"></div>
    <div class="progress-step" data-step="5"></div>
  </div>

  <!-- Form -->
  <form id="prequalForm" novalidate>
    <div class="form-card">

      <!-- Step 1: Activité -->
      <div class="step active" data-step="1">
        <div class="step-number">Question 1/5</div>
        <h2>Votre activité</h2>
        <p class="hint">Décrivez ce que vous faites en une phrase</p>
        <div class="field">
          <label for="activite">Métier / activité</label>
          <input type="text" id="activite" name="activite" placeholder="Ex : Cabinet de conseil en RH pour PME" required>
          <div class="error-msg">Merci de décrire votre activité</div>
        </div>
        <div class="buttons">
          <button type="button" class="btn-next" onclick="nextStep()">
            Continuer
            <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
          </button>
        </div>
      </div>

      <!-- Step 2: Cible -->
      <div class="step" data-step="2">
        <div class="step-number">Question 2/5</div>
        <h2>Votre cible</h2>
        <p class="hint">À qui vendez-vous ? Vous pouvez sélectionner plusieurs secteurs.</p>

        <!-- Secteur (multi-select checkboxes) -->
        <div class="field" id="field-secteur">
          <label>Secteur d'activité de vos clients</label>
          <div class="checkbox-group">
            <div class="checkbox-option">
              <input type="checkbox" id="sect1" name="secteur" value="Services aux entreprises / Conseil">
              <label for="sect1"><span class="check-box"></span>Services aux entreprises / Conseil</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="sect2" name="secteur" value="Formation / Éducation">
              <label for="sect2"><span class="check-box"></span>Formation / Éducation</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="sect3" name="secteur" value="Comptabilité / Finance">
              <label for="sect3"><span class="check-box"></span>Comptabilité / Finance</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="sect4" name="secteur" value="Juridique / Avocats">
              <label for="sect4"><span class="check-box"></span>Juridique / Avocats</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="sect5" name="secteur" value="Immobilier">
              <label for="sect5"><span class="check-box"></span>Immobilier</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="sect6" name="secteur" value="IT / Informatique / SaaS">
              <label for="sect6"><span class="check-box"></span>IT / Informatique / SaaS</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="sect7" name="secteur" value="Marketing / Communication / Agence">
              <label for="sect7"><span class="check-box"></span>Marketing / Communication / Agence</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="sect8" name="secteur" value="Santé / Médical">
              <label for="sect8"><span class="check-box"></span>Santé / Médical</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="sect9" name="secteur" value="BTP / Construction">
              <label for="sect9"><span class="check-box"></span>BTP / Construction</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="sect10" name="secteur" value="Industrie / Fabrication">
              <label for="sect10"><span class="check-box"></span>Industrie / Fabrication</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="sect11" name="secteur" value="Commerce / Distribution">
              <label for="sect11"><span class="check-box"></span>Commerce / Distribution</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="sect12" name="secteur" value="Transport / Logistique">
              <label for="sect12"><span class="check-box"></span>Transport / Logistique</label>
            </div>
            <div class="checkbox-option">
              <input type="checkbox" id="sect13" name="secteur" value="Autre">
              <label for="sect13"><span class="check-box"></span>Autre</label>
            </div>
          </div>
          <div class="error-msg">Merci de sélectionner au moins un secteur</div>
        </div>

        <!-- Taille entreprise (select) -->
        <div class="field">
          <label for="taille">Taille d'entreprise ciblée</label>
          <select id="taille" name="taille" required>
            <option value="" disabled selected>Choisissez…</option>
            <option value="Indépendant / Solo">Indépendant / Solo</option>
            <option value="TPE (1-10 salariés)">TPE (1-10 salariés)</option>
            <option value="PME (11-50 salariés)">PME (11-50 salariés)</option>
            <option value="ETI (51-250 salariés)">ETI (51-250 salariés)</option>
            <option value="Grande entreprise (250+)">Grande entreprise (250+)</option>
            <option value="Toutes tailles">Toutes tailles</option>
          </select>
          <div class="error-msg">Merci de sélectionner une taille</div>
        </div>

        <!-- Fonction décideur (select) -->
        <div class="field">
          <label for="decideur">Fonction du décideur visé</label>
          <select id="decideur" name="decideur" required>
            <option value="" disabled selected>Choisissez…</option>
            <option value="Dirigeant / Gérant / CEO">Dirigeant / Gérant / CEO</option>
            <option value="Directeur commercial">Directeur commercial</option>
            <option value="Directeur RH">Directeur RH</option>
            <option value="Directeur financier / DAF">Directeur financier / DAF</option>
            <option value="Directeur marketing">Directeur marketing</option>
            <option value="Directeur technique / CTO">Directeur technique / CTO</option>
            <option value="Responsable achats">Responsable achats</option>
            <option value="Autre">Autre</option>
          </select>
          <div class="error-msg">Merci de sélectionner une fonction</div>
        </div>

        <div class="buttons">
          <button type="button" class="btn-back" onclick="prevStep()">Retour</button>
          <button type="button" class="btn-next" onclick="nextStep()">
            Continuer
            <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
          </button>
        </div>
      </div>

      <!-- Step 3: Frein -->
      <div class="step" data-step="3">
        <div class="step-number">Question 3/5</div>
        <h2>Votre plus gros frein</h2>
        <p class="hint">Qu'est-ce qui vous empêche de prospecter aujourd'hui ?</p>
        <div class="field">
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="frein1" name="frein" value="Pas le temps" required>
              <label for="frein1"><span class="radio-dot"></span>Pas le temps</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="frein2" name="frein" value="Pas les compétences outbound">
              <label for="frein2"><span class="radio-dot"></span>Pas les compétences outbound</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="frein3" name="frein" value="Déjà essayé sans résultat">
              <label for="frein3"><span class="radio-dot"></span>Déjà essayé sans résultat (freelance, stagiaire…)</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="frein4" name="frein" value="Pas les bons outils">
              <label for="frein4"><span class="radio-dot"></span>Pas les bons outils</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="frein5" name="frein" value="Autre">
              <label for="frein5"><span class="radio-dot"></span>Autre</label>
            </div>
          </div>
          <div class="error-msg">Merci de sélectionner une réponse</div>
        </div>
        <div class="buttons">
          <button type="button" class="btn-back" onclick="prevStep()">Retour</button>
          <button type="button" class="btn-next" onclick="nextStep()">
            Continuer
            <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
          </button>
        </div>
      </div>

      <!-- Step 4: Budget -->
      <div class="step" data-step="4">
        <div class="step-number">Question 4/5</div>
        <h2>Budget</h2>
        <p class="hint">Bakal coûte ~350€/mois. Vous recevez des RDV qualifiés sans rien faire.</p>
        <div class="field">
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="budget1" name="budget" value="Oui, c'est dans mon budget" required>
              <label for="budget1"><span class="radio-dot"></span>Oui, c'est dans mon budget</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="budget2" name="budget" value="Possible si les résultats sont là">
              <label for="budget2"><span class="radio-dot"></span>Possible, si les résultats sont là</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="budget3" name="budget" value="Non, trop cher pour moi">
              <label for="budget3"><span class="radio-dot"></span>Non, trop cher pour moi</label>
            </div>
          </div>
          <div class="error-msg">Merci de sélectionner une réponse</div>
        </div>
        <div class="buttons">
          <button type="button" class="btn-back" onclick="prevStep()">Retour</button>
          <button type="button" class="btn-next" onclick="nextStep()">
            Continuer
            <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
          </button>
        </div>
      </div>

      <!-- Step 5: Contact -->
      <div class="step" data-step="5">
        <div class="step-number">Question 5/5</div>
        <h2>Vos coordonnées</h2>
        <p class="hint">Pour qu'on puisse vous recontacter rapidement.</p>
        <div class="field">
          <label for="prenom">Prénom</label>
          <input type="text" id="prenom" name="prenom" placeholder="Votre prénom" required>
          <div class="error-msg">Merci d'indiquer votre prénom</div>
        </div>
        <div class="field">
          <label for="email">Email professionnel</label>
          <input type="email" id="email" name="email" placeholder="vous@entreprise.com" required>
          <div class="error-msg">Merci d'indiquer un email valide</div>
        </div>
        <div class="field">
          <label for="telephone">Téléphone</label>
          <input type="tel" id="telephone" name="telephone" placeholder="06 12 34 56 78" required>
          <div class="error-msg">Merci d'indiquer votre téléphone</div>
        </div>
        <div class="buttons">
          <button type="button" class="btn-back" onclick="prevStep()">Retour</button>
          <button type="submit" class="btn-next">
            Envoyer ma candidature
            <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
          </button>
        </div>
      </div>

      <!-- Success -->
      <div class="success-screen" id="successScreen">
        <div class="success-icon">
          <svg width="28" height="28" fill="none" viewBox="0 0 24 24" stroke="#00d68f" stroke-width="2.5"><path d="M20 6L9 17l-5-5"/></svg>
        </div>
        <h2>Candidature reçue !</h2>
        <p>Merci <span id="successName"></span>. On analyse votre profil et on vous recontacte sous 24h.</p>
        <div class="success-detail">
          <p>Si votre profil correspond, on planifie un call de 15 min pour lancer votre prospection.</p>
        </div>
      </div>

    </div>
  </form>

  <div class="footer">
    <a href="https://bakal.ai">← Retour au site</a> &nbsp;·&nbsp; Vos données restent confidentielles
  </div>
</div>

<script>
let currentStep = 1;
const totalSteps = 5;

// ══════ WEBHOOK CONFIG ══════
// Remplacer par votre URL webhook N8N
const WEBHOOK_URL = 'https://VOTRE-INSTANCE.app.n8n.cloud/webhook/prequalification';

function updateProgress() {
  document.querySelectorAll('.progress-step').forEach(el => {
    const step = parseInt(el.dataset.step);
    el.classList.toggle('active', step <= currentStep);
  });
}

function showStep(step) {
  document.querySelectorAll('.step').forEach(el => el.classList.remove('active'));
  const target = document.querySelector(`.step[data-step="${step}"]`);
  if (target) {
    target.classList.remove('active');
    // Force reflow for animation
    void target.offsetWidth;
    target.classList.add('active');
  }
  updateProgress();
}

function validateStep(step) {
  let valid = true;
  const stepEl = document.querySelector(`.step[data-step="${step}"]`);

  if (step === 1) {
    const activite = document.getElementById('activite');
    const field = activite.closest('.field');
    if (!activite.value.trim()) {
      field.classList.add('error');
      valid = false;
    } else {
      field.classList.remove('error');
    }
  }

  if (step === 2) {
    // Validate secteur (at least one checkbox)
    const secteurs = document.querySelectorAll('input[name="secteur"]:checked');
    const fieldSecteur = document.getElementById('field-secteur');
    if (secteurs.length === 0) {
      fieldSecteur.classList.add('error');
      valid = false;
    } else {
      fieldSecteur.classList.remove('error');
    }

    // Validate taille
    const taille = document.getElementById('taille');
    const fieldTaille = taille.closest('.field');
    if (!taille.value) {
      fieldTaille.classList.add('error');
      valid = false;
    } else {
      fieldTaille.classList.remove('error');
    }

    // Validate decideur
    const decideur = document.getElementById('decideur');
    const fieldDecideur = decideur.closest('.field');
    if (!decideur.value) {
      fieldDecideur.classList.add('error');
      valid = false;
    } else {
      fieldDecideur.classList.remove('error');
    }
  }

  if (step === 3) {
    const frein = document.querySelector('input[name="frein"]:checked');
    const field = stepEl.querySelector('.field');
    if (!frein) {
      field.classList.add('error');
      valid = false;
    } else {
      field.classList.remove('error');
    }
  }

  if (step === 4) {
    const budget = document.querySelector('input[name="budget"]:checked');
    const field = stepEl.querySelector('.field');
    if (!budget) {
      field.classList.add('error');
      valid = false;
    } else {
      field.classList.remove('error');
    }
  }

  if (step === 5) {
    const prenom = document.getElementById('prenom');
    const email = document.getElementById('email');
    const tel = document.getElementById('telephone');

    [prenom, email, tel].forEach(input => {
      const field = input.closest('.field');
      if (!input.value.trim()) {
        field.classList.add('error');
        valid = false;
      } else if (input.type === 'email' && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(input.value)) {
        field.classList.add('error');
        valid = false;
      } else {
        field.classList.remove('error');
      }
    });
  }

  return valid;
}

function nextStep() {
  if (!validateStep(currentStep)) return;
  if (currentStep < totalSteps) {
    currentStep++;
    showStep(currentStep);
  }
}

function prevStep() {
  if (currentStep > 1) {
    currentStep--;
    showStep(currentStep);
  }
}

// Remove error on input
document.querySelectorAll('input, textarea').forEach(el => {
  el.addEventListener('input', () => {
    el.closest('.field')?.classList.remove('error');
  });
});

document.querySelectorAll('input[type="radio"]').forEach(el => {
  el.addEventListener('change', () => {
    el.closest('.field')?.classList.remove('error');
  });
});

document.querySelectorAll('input[type="checkbox"]').forEach(el => {
  el.addEventListener('change', () => {
    document.getElementById('field-secteur')?.classList.remove('error');
  });
});

document.querySelectorAll('select').forEach(el => {
  el.addEventListener('change', () => {
    el.closest('.field')?.classList.remove('error');
  });
});

// Submit
document.getElementById('prequalForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  if (!validateStep(5)) return;

  const submitBtn = this.querySelector('button[type="submit"]');
  const originalHTML = submitBtn.innerHTML;
  submitBtn.disabled = true;
  submitBtn.innerHTML = '<span style="display:flex;align-items:center;gap:8px"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="animation:spin 1s linear infinite"><path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"/></svg>Envoi en cours…</span>';

  const data = {
    activite: document.getElementById('activite').value.trim(),
    secteurs: Array.from(document.querySelectorAll('input[name="secteur"]:checked')).map(el => el.value),
    taille: document.getElementById('taille').value,
    decideur: document.getElementById('decideur').value,
    frein: document.querySelector('input[name="frein"]:checked')?.value || '',
    budget: document.querySelector('input[name="budget"]:checked')?.value || '',
    prenom: document.getElementById('prenom').value.trim(),
    email: document.getElementById('email').value.trim(),
    telephone: document.getElementById('telephone').value.trim(),
    source: 'formulaire-prequalification',
    date: new Date().toISOString()
  };

  try {
    if (!WEBHOOK_URL.includes('VOTRE-INSTANCE')) {
      await fetch(WEBHOOK_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });
    } else {
      console.log('[Bakal] Webhook not configured yet. Form data:', data);
    }
  } catch (err) {
    console.log('[Bakal] Webhook error (form still shows success):', err);
  }

  // Show success
  document.querySelectorAll('.step').forEach(el => el.classList.remove('active'));
  document.querySelector('.progress-bar').style.display = 'none';
  document.getElementById('successName').textContent = data.prenom;
  document.getElementById('successScreen').classList.add('active');
});

// Keyboard: Enter to continue
document.addEventListener('keydown', function(e) {
  if (e.key === 'Enter' && currentStep < totalSteps) {
    e.preventDefault();
    nextStep();
  }
});
</script>

<style>
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
</style>

</body>
</html>
